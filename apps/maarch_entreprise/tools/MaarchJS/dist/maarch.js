var Maarch={Version:"0.1",libs:$A(["treeview"]),REQUIRED_PROTOTYPE:"1.6.0.2",load:function(){function a(b){b=b.split(".");return parseInt(b[0],10)*1E6+parseInt(b[1],10)*1E4+parseInt(b[2],10)*100+(b[3]?parseInt(b[3],10):0)}if(typeof Prototype=="undefined"||typeof Element=="undefined"||typeof Element.Methods=="undefined"||a(Prototype.Version)<a(Maarch.REQUIRED_PROTOTYPE))throw"Maarch.js requires the Prototype JavaScript framework >= "+Maarch.REQUIRED_PROTOTYPE;Maarch._fixPrototype()},jsPath:function(){return $$("script").find(function(a){return a.src.match(/maarch\.js$/)}).src.replace(/(.*)maarch\.js/,
"$1")}(),cssPath:"../css/",require:function(a,b){if(Maarch.libs.include(a)){Maarch.injectJS("maarch-treeview");Maarch.injectCSSFile("maarch-treeview")}b&&b instanceof Function&&new PeriodicalExecuter(function(c){if(typeof Maarch[a]!="undefined"){c.stop();b()}},1)},_fixPrototype:function(){Element.on||Element.addMethods({on:function(a,b,c,d){a=$(a);if(Object.isFunction(c)&&Object.isUndefined(d)){d=c;c=null}a.observe(b,c?function(e){elt=e.findElement(c)||window.document;elt!=window.document&&d(e,elt)}:
d)}})},injectCSSFile:function(a){$$("link[rel=stylesheet]").find(function(b){return b.href.match(RegExp(a+".css$"))})===undefined&&$(document.body).insert({top:new Element("link",{rel:"stylesheet",href:Maarch.jsPath+Maarch.cssPath+a+".css",type:"text/css"})})},injectInlineCSS:function(a){var b=new Element("style",{type:"text/css"});if(b.styleSheet){a=document.createTextNode(a);b.styleSheet.cssText=a.nodeValue}else b.insert(a);$$("head")[0].insert(b)},injectJS:function(a){if($$("script[src=stylesheet]").find(function(c){return c.href.match(RegExp(a+
".js$"))})==undefined){var b=new Element("script",{src:Maarch.jsPath+a+".js",type:"text/javascript"});$(document.body).insert({bottom:b});return b}return null},AddIEDiv:function(a){if(Prototype.Browser.IE){a=$(a);a.wrap(new Element("div",{id:"IE"+navigator.appVersion.replace(/.*MSIE ([6-8]).*/,"$1")}))}}};Maarch.load();
